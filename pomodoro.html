<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pomodoro da Rita üçÖ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class'
        }
    </script>
</head>

<body class="bg-gradient-to-br from-pink-50 to-purple-50 dark:from-gray-900 dark:to-gray-800 min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-2xl">
        <!-- Navigation & Header -->
        <header class="mb-8">
            <div class="flex justify-between items-center mb-6">
                <a href="index.html"
                    class="bg-pink-500 hover:bg-pink-600 text-white px-4 py-2 rounded-full font-medium shadow-lg transition-all">
                    ‚Üê üìù To-Do List
                </a>
                <button id="theme-toggle"
                    class="p-3 rounded-full bg-white dark:bg-gray-700 shadow hover:shadow-md transition-all">
                    <span id="theme-icon" class="text-xl">üåô</span>
                </button>
            </div>

            <div class="text-center">
                <h1 class="text-4xl font-bold text-pink-600 dark:text-pink-400 mb-2">
                    Pomodoro da Rita üçÖüå∏
                </h1>
                <p class="text-gray-600 dark:text-gray-300">
                    T√©cnica Pomodoro para aumentar sua produtividade
                </p>
            </div>
        </header>

        <!-- Timer Card -->
        <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 mb-6">
            <div class="text-center">
                <!-- Mode Display -->
                <div id="mode-display" class="mb-4">
                    <span id="mode-badge"
                        class="bg-pink-100 dark:bg-pink-900 text-pink-800 dark:text-pink-200 px-4 py-2 rounded-full text-lg font-semibold">
                        üçÖ Foco
                    </span>
                </div>

                <!-- Timer Display -->
                <div id="timer-display" class="text-6xl font-mono font-bold text-gray-900 dark:text-gray-100 mb-6">
                    25:00
                </div>

                <!-- Progress Bar -->
                <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 mb-6">
                    <div id="progress-bar" class="bg-pink-500 h-3 rounded-full transition-all duration-1000"
                        style="width: 0%"></div>
                </div>

                <!-- Controls -->
                <div class="flex justify-center space-x-4 mb-6">
                    <button id="start-btn"
                        class="bg-pink-500 hover:bg-pink-600 text-white px-6 py-3 rounded-full font-medium shadow-lg transition-all">
                        ‚ñ∂Ô∏è Iniciar
                    </button>
                    <button id="pause-btn"
                        class="bg-gray-400 text-white px-6 py-3 rounded-full font-medium shadow-lg opacity-50 cursor-not-allowed"
                        disabled>
                        ‚è∏Ô∏è Pausar
                    </button>
                    <button id="reset-btn"
                        class="bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-full font-medium shadow-lg transition-all">
                        üîÑ Reset
                    </button>
                </div>
            </div>
        </div>
        <! -- Stats Card -->
            <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 mb-6">
                <h3 class="text-xl font-bold text-gray-900 dark:text-gray-100 mb-4 text-center">üìä Estat√≠sticas</h3>
                <div class="grid grid-cols-3 gap-4 text-center">
                    <div>
                        <div id="pomodoros-count" class="text-2xl font-bold text-pink-600">0</div>
                        <div class="text-sm text-gray-600 dark:text-gray-400">Pomodoros</div>
                    </div>
                    <div>
                        <div id="breaks-count" class="text-2xl font-bold text-green-600">0</div>
                        <div class="text-sm text-gray-600 dark:text-gray-400">Pausas</div>
                    </div>
                    <div>
                        <div id="total-time" class="text-2xl font-bold text-blue-600">0h</div>
                        <div class="text-sm text-gray-600 dark:text-gray-400">Tempo Total</div>
                    </div>
                </div>
            </div>

            <!-- Settings Card -->
            <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6">
                <h3 class="text-xl font-bold text-gray-900 dark:text-gray-100 mb-4 text-center">‚öôÔ∏è Configura√ß√µes</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">üçÖ Foco
                            (min)</label>
                        <input type="number" id="work-time" value="25" min="1" max="60"
                            class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">‚òï Pausa
                            (min)</label>
                        <input type="number" id="break-time" value="5" min="1" max="30"
                            class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">üõå Pausa Longa
                            (min)</label>
                        <input type="number" id="long-break-time" value="15" min="1" max="60"
                            class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100">
                    </div>
                </div>
                <div class="mt-4 flex items-center justify-center">
                    <label class="flex items-center cursor-pointer">
                        <input type="checkbox" id="sound-enabled" checked class="mr-2">
                        <span class="text-gray-700 dark:text-gray-300">üîî Som de notifica√ß√£o</span>
                    </label>
                </div>
            </div>
    </div>

    <script>
        class PomodoroTimer {
            constructor() {
                this.isRunning = false
                this.currentMode = 'work'
                this.timeLeft = 25 * 60
                this.totalTime = 25 * 60
                this.pomodoroCount = 0
                this.breakCount = 0
                this.totalMinutes = 0
                this.timer = null

                this.init()
            }

            init() {
                this.initElements()
                this.initEventListeners()
                this.loadStats()
                this.applyTheme()
                this.updateDisplay()
            }

            initElements() {
                this.timerDisplay = document.getElementById('timer-display')
                this.modeBadge = document.getElementById('mode-badge')
                this.progressBar = document.getElementById('progress-bar')
                this.startBtn = document.getElementById('start-btn')
                this.pauseBtn = document.getElementById('pause-btn')
                this.resetBtn = document.getElementById('reset-btn')
                this.pomodorosCountEl = document.getElementById('pomodoros-count')
                this.breaksCountEl = document.getElementById('breaks-count')
                this.totalTimeEl = document.getElementById('total-time')
                this.workTimeInput = document.getElementById('work-time')
                this.breakTimeInput = document.getElementById('break-time')
                this.longBreakTimeInput = document.getElementById('long-break-time')
                this.soundEnabledInput = document.getElementById('sound-enabled')
                this.themeToggle = document.getElementById('theme-toggle')
                this.themeIcon = document.getElementById('theme-icon')
            } in
            itEventListeners() {
                this.startBtn.addEventListener('click', () => this.start())
                this.pauseBtn.addEventListener('click', () => this.pause())
                this.resetBtn.addEventListener('click', () => this.reset())
                this.themeToggle.addEventListener('click', () => this.toggleTheme())

                this.workTimeInput.addEventListener('change', () => this.updateTimer())
                this.breakTimeInput.addEventListener('change', () => this.updateTimer())
                this.longBreakTimeInput.addEventListener('change', () => this.updateTimer())
            }

            start() {
                this.isRunning = true
                this.startBtn.disabled = true
                this.pauseBtn.disabled = false

                this.startBtn.textContent = '‚è≥ Rodando...'
                this.startBtn.className = 'bg-gray-400 text-white px-6 py-3 rounded-full font-medium shadow-lg opacity-50 cursor-not-allowed'
                this.pauseBtn.className = 'bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-full font-medium shadow-lg transition-all'

                this.timer = setInterval(() => {
                    this.timeLeft--
                    this.updateDisplay()
                    this.updateProgress()

                    if (this.timeLeft <= 0) {
                        this.complete()
                    }
                }, 1000)
            }

            pause() {
                this.isRunning = false
                this.startBtn.disabled = false
                this.pauseBtn.disabled = true

                this.startBtn.textContent = '‚ñ∂Ô∏è Continuar'
                this.startBtn.className = 'bg-pink-500 hover:bg-pink-600 text-white px-6 py-3 rounded-full font-medium shadow-lg transition-all'
                this.pauseBtn.className = 'bg-gray-400 text-white px-6 py-3 rounded-full font-medium shadow-lg opacity-50 cursor-not-allowed'

                clearInterval(this.timer)
            }

            reset() {
                this.isRunning = false
                this.startBtn.disabled = false
                this.pauseBtn.disabled = true

                this.startBtn.textContent = '‚ñ∂Ô∏è Iniciar'
                this.startBtn.className = 'bg-pink-500 hover:bg-pink-600 text-white px-6 py-3 rounded-full font-medium shadow-lg transition-all'
                this.pauseBtn.className = 'bg-gray-400 text-white px-6 py-3 rounded-full font-medium shadow-lg opacity-50 cursor-not-allowed'

                clearInterval(this.timer)
                this.updateTimer()
                this.progressBar.style.width = '0%'
            }

            complete() {
                this.isRunning = false
                this.startBtn.disabled = false
                this.pauseBtn.disabled = true

                this.startBtn.textContent = '‚ñ∂Ô∏è Iniciar'
                this.startBtn.className = 'bg-pink-500 hover:bg-pink-600 text-white px-6 py-3 rounded-full font-medium shadow-lg transition-all'
                this.pauseBtn.className = 'bg-gray-400 text-white px-6 py-3 rounded-full font-medium shadow-lg opacity-50 cursor-not-allowed'

                clearInterval(this.timer)

                if (this.currentMode === 'work') {
                    this.pomodoroCount++
                    this.totalMinutes += parseInt(this.workTimeInput.value)

                    if (this.pomodoroCount % 4 === 0) {
                        this.currentMode = 'longBreak'
                        this.timeLeft = parseInt(this.longBreakTimeInput.value) * 60
                    } else {
                        this.currentMode = 'break'
                        this.timeLeft = parseInt(this.breakTimeInput.value) * 60
                    }
                } else {
                    this.breakCount++
                    this.currentMode = 'work'
                    this.timeLeft = parseInt(this.workTimeInput.value) * 60
                }

                this.totalTime = this.timeLeft
                this.updateDisplay()
                this.updateStats()
                this.saveStats()
                this.playNotification()
                this.progressBar.style.width = '0%'
            }
            updateTimer() {
                if (!this.isRunning) {
                    if (this.currentMode === 'work') {
                        this.timeLeft = parseInt(this.workTimeInput.value) * 60
                    } else if (this.currentMode === 'break') {
                        this.timeLeft = parseInt(this.breakTimeInput.value) * 60
                    } else {
                        this.timeLeft = parseInt(this.longBreakTimeInput.value) * 60
                    }
                    this.totalTime = this.timeLeft
                    this.updateDisplay()
                }
            }

            updateDisplay() {
                const minutes = Math.floor(this.timeLeft / 60)
                const seconds = this.timeLeft % 60
                this.timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`

                // Update mode display
                if (this.currentMode === 'work') {
                    this.modeBadge.textContent = 'üçÖ Foco'
                    this.modeBadge.className = 'bg-pink-100 dark:bg-pink-900 text-pink-800 dark:text-pink-200 px-4 py-2 rounded-full text-lg font-semibold'
                } else if (this.currentMode === 'break') {
                    this.modeBadge.textContent = '‚òï Pausa'
                    this.modeBadge.className = 'bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-4 py-2 rounded-full text-lg font-semibold'
                } else {
                    this.modeBadge.textContent = 'üõå Pausa Longa'
                    this.modeBadge.className = 'bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-4 py-2 rounded-full text-lg font-semibold'
                }

                // Update page title
                const modeText = this.currentMode === 'work' ? 'Foco' : (this.currentMode === 'break' ? 'Pausa' : 'Pausa Longa')
                document.title = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')} - ${modeText} | Pomodoro da Rita`
            }

            updateProgress() {
                const progress = ((this.totalTime - this.timeLeft) / this.totalTime) * 100
                this.progressBar.style.width = `${progress}%`
            }

            updateStats() {
                this.pomodorosCountEl.textContent = this.pomodoroCount
                this.breaksCountEl.textContent = this.breakCount
                const hours = Math.floor(this.totalMinutes / 60)
                const minutes = this.totalMinutes % 60
                this.totalTimeEl.textContent = hours > 0 ? `${hours}h ${minutes}m` : `${minutes}m`
            }

            saveStats() {
                localStorage.setItem('pomodoro-stats', JSON.stringify({
                    pomodoroCount: this.pomodoroCount,
                    breakCount: this.breakCount,
                    totalMinutes: this.totalMinutes
                }))
            }

            loadStats() {
                const stats = JSON.parse(localStorage.getItem('pomodoro-stats') || '{}')
                this.pomodoroCount = stats.pomodoroCount || 0
                this.breakCount = stats.breakCount || 0
                this.totalMinutes = stats.totalMinutes || 0
                this.updateStats()
            }

            playNotification() {
                // Simple beep sound
                if (this.soundEnabledInput.checked) {
                    const audio = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmGgU7k9n1unEiBC13yO/eizEIHWq+8+OWT')
                    audio.play().catch(() => { })
                }

                // Browser notification
                if ('Notification' in window && Notification.permission === 'granted') {
                    const modeText = this.currentMode === 'work' ? 'Hora de trabalhar! üçÖ' : 'Hora da pausa! ‚òï'
                    new Notification('Pomodoro da Rita', {
                        body: modeText,
                        icon: 'üçÖ'
                    })
                }
            }

            toggleTheme() {
                const isDark = document.documentElement.classList.contains('dark')
                if (isDark) {
                    document.documentElement.classList.remove('dark')
                    localStorage.setItem('pomodoro-theme', 'light')
                    this.themeIcon.textContent = 'üåô'
                } else {
                    document.documentElement.classList.add('dark')
                    localStorage.setItem('pomodoro-theme', 'dark')
                    this.themeIcon.textContent = '‚òÄÔ∏è'
                }
            }

            applyTheme() {
                const savedTheme = localStorage.getItem('pomodoro-theme') || 'light'
                if (savedTheme === 'dark') {
                    document.documentElement.classList.add('dark')
                    this.themeIcon.textContent = '‚òÄÔ∏è'
                } else {
                    this.themeIcon.textContent = 'üåô'
                }
            }
        }

        // Initialize app
        document.addEventListener('DOMContentLoaded', () => {
            new PomodoroTimer()

            // Request notification permission
            if ('Notification' in window && Notification.permission === 'default') {
                Notification.requestPermission()
            }
        })
    </script>
</body>

</html>